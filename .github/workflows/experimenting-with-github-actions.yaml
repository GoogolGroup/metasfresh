name: experimenting-with-github-actions
on: [push]
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: build-commons
        run: docker buildx build -f Dockerfile.common -t metas-mvn-common:latest .
      - name: build-backend
        run: docker buildx build -f Dockerfile.backend -t metas-mvn-backend:latest .
      - name: build-camel
        run: docker buildx build -f Dockerfile.camel -t metas-mvn-camel:latest .
      - name: build-api
        run: docker buildx build -f Dockerfile.backend.api -t metas-api:latest .
      - name: build-app
        run: docker buildx build -f Dockerfile.backend.app -t metas-app:latest .
      - name: build-externalsystems
        run: docker buildx build -f Dockerfile.camel.externalsystems -t metas-externalsystems:latest .
      - name: build-frontend
        run: docker buildx build -f Dockerfile.frontend -t metas-frontend:latest .
      - name: build-db
        run: docker buildx build -f Dockerfile.db -t metas-db:latest .
      - name: build-db-init
        run: docker buildx build -f Dockerfile.db-init -t metas-db-init:latest .
